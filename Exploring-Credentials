pipeline {
    agent any
    environment{
        MY_USER_PASS = credentials('user-pass')
        MY_TEXT = credentials('secret-text')
    }

    stages {
        stage('helper credntials') {
            steps {
                echo 'Hello helpers'
                echo "Our User password: $MY_USER_PASS_USR"
                echo "Our Password is: $MY_USER_PASS_PSW"
                echo "Our Secret Text is: $MY_TEXT"
                sh 'cat /etc/lsb-release'
                
            }
        }
        stage('Credentials Binding') {
            steps {
                echo 'Hello Binding'
                withCredentials([sshUserPrivateKey(credentialsId: 'ssh-user-key', keyFileVariable: 'keyFile', passphraseVariable: 'passphrase', usernameVariable: 'username'), string(credentialsId: 'secret-text', variable: 'secretText')]) {
                     // some block
                     echo "For chk-secret-text: $secretText" 
                     echo "For SSHKEY username: $username"
                     echo "For SSHKEY passphrase: $passphrase"
                }
                
            }
        }
    }
}
